Solve-MSSQL-task
================

MSSQL_task_from_Domodedovo
===========================
Задача №1

1.Реализовать структуру БД в MS SQL Server 2005.
2. Написать процедуру для расчета суммы коэффициентов сложности проектов, находящихся в заданном интервале(с datefrom по dateto) в статусах от 2 до 4 включительно (2 или 3 или 4) в   течении Х или более рабочих дней руководителя проекта.
Входные параметры процедуры: Х, интервал- datefrom, dateto.
Ожидаемый результат:
А) таблица с колонками prj_id, rp_per_id, difficulty
Б) итоговое значение- сумма difficulty
3. Предложить создание индексов БД для оптимизации, написанной процедуры.
4. Предложить варианты оптимизации структуры БД(типы данных).
Решение представить в виде бэкапа созданной БД и текстового пояснения.

Задача №2

Biztalk Receive-таблица документов, подлежащих обработке.
Date- дата/время добавление документа.
Processed-флаг обработки локумента.
Processed Date-дата обработки документа.
Doc-тело документа.
StartProcessing-дата/время получения документа для обработки.
Таблица содержит документы, обрабатываемые внешней многопоточной программой-обработчиком.
Необходимо написать:
1)  Процедуру для получения обработчиком документов (Doc) из очереди обработки- указанной таблицы.(BizTalkReceive). При запросе документа должна устанавливаться дата начала обработки StartProcessing
2)	Процедуру установки флага обработки документа, которую обработчик будет запускать после окончания обработки. В ней должны устанавливаться флаг Processed и дата обработки Processed Date.
Определить минимально необходимый уровень изолированности транзакций для корректной работы процедур.